import { cookies } from "next/headers"

const defaultLocale = "en"
const locales = ["en", "ar"]

// Comprehensive translation messages
const messages = {
  en: {
    common: {
      hello: "Hello",
      loading: "Loading...",
      error: "Error",
      success: "Success",
      cancel: "Cancel",
      save: "Save",
      delete: "Delete",
      edit: "Edit",
      add: "Add",
      remove: "Remove",
      search: "Search",
      filter: "Filter",
      sort: "Sort",
      price: "Price",
      quantity: "Quantity",
      total: "Total",
      subtotal: "Subtotal",
      tax: "Tax",
      shipping: "Shipping",
      discount: "Discount",
      toggleTheme: "Toggle theme",
      changeLanguage: "Change language",
      yes: "Yes",
      no: "No",
      confirm: "Confirm",
      back: "Back",
      next: "Next",
      previous: "Previous",
      close: "Close",
      open: "Open",
      view: "View",
      download: "Download",
      upload: "Upload",
      copy: "Copy",
      share: "Share",
      print: "Print",
      export: "Export",
      import: "Import",
    },
    navigation: {
      home: "Home",
      products: "Products",
      categories: "Categories",
      about: "About",
      contact: "Contact",
      cart: "Cart",
      account: "Account",
      myAccount: "My Account",
      orderHistory: "Order History",
      wishlist: "Wishlist",
      menu: "Menu",
      dashboard: "Dashboard",
      settings: "Settings",
      logout: "Logout",
      login: "Login",
      register: "Register",
    },
    store: {
      name: "ECommerce Store",
      tagline: "Your trusted online shopping destination",
      description: "Quality products with exceptional service",
      copyright: "All rights reserved",
      poweredBy: "Powered by ECommerce Platform",
    },
    auth: {
      login: "Login",
      register: "Register",
      logout: "Logout",
      email: "Email",
      password: "Password",
      confirmPassword: "Confirm Password",
      firstName: "First Name",
      lastName: "Last Name",
      fullName: "Full Name",
      forgotPassword: "Forgot Password?",
      rememberMe: "Remember me",
      createAccount: "Create Account",
      alreadyHaveAccount: "Already have an account?",
      dontHaveAccount: "Don't have an account?",
      signIn: "Sign in",
      signUp: "Sign up",
      invalidCredentials: "Invalid email or password",
      accountCreated: "Account created successfully",
      loginSuccess: "Logged in successfully",
      logoutSuccess: "Logged out successfully",
      emailRequired: "Email is required",
      passwordRequired: "Password is required",
      passwordMinLength: "Password must be at least 8 characters",
      emailInvalid: "Please enter a valid email address",
      passwordsNotMatch: "Passwords do not match",
    },
    product: {
      addToCart: "Add to Cart",
      buyNow: "Buy Now",
      outOfStock: "Out of Stock",
      inStock: "In Stock",
      lowStock: "Only {count} left!",
      sku: "SKU",
      category: "Category",
      tags: "Tags",
      description: "Description",
      specifications: "Specifications",
      reviews: "Reviews",
      relatedProducts: "Related Products",
      comparePrice: "Compare at",
      sale: "Sale",
      new: "New",
      featured: "Featured",
      recommendedForYou: "Recommended for You",
      productDetails: "Product Details",
      productImages: "Product Images",
      selectVariant: "Select {option}",
      variants: "Variants",
      options: "Options",
      availability: "Availability",
      brand: "Brand",
      weight: "Weight",
      dimensions: "Dimensions",
      digitalProduct: "Digital Product",
      instantDownload: "Instant Download",
    },
    cart: {
      title: "Shopping Cart",
      empty: "Your cart is empty",
      emptyDescription: "Add some products to get started",
      continueShopping: "Continue Shopping",
      proceedToCheckout: "Proceed to Checkout",
      updateCart: "Update Cart",
      removeItem: "Remove Item",
      clearCart: "Clear Cart",
      itemAdded: "Item added to cart",
      itemRemoved: "Item removed from cart",
      itemUpdated: "Cart updated",
      cartTotal: "Cart Total",
      estimatedTax: "Estimated Tax",
      estimatedShipping: "Estimated Shipping",
      couponCode: "Coupon Code",
      applyCoupon: "Apply Coupon",
      removeCoupon: "Remove Coupon",
      couponApplied: "Coupon applied successfully",
      invalidCoupon: "Invalid coupon code",
    },
    checkout: {
      title: "Checkout",
      contactInformation: "Contact Information",
      shippingAddress: "Shipping Address",
      billingAddress: "Billing Address",
      paymentMethod: "Payment Method",
      orderSummary: "Order Summary",
      placeOrder: "Place Order",
      processing: "Processing...",
      orderPlaced: "Order placed successfully!",
      orderConfirmation: "You will receive a confirmation email shortly.",
      shippingMethod: "Shipping Method",
      billingAddressSame: "Billing address is the same as shipping address",
      saveAddress: "Save this address for future orders",
      guestCheckout: "Continue as guest",
      createAccountCheckout: "Create an account for faster checkout",
      orderNumber: "Order Number",
      estimatedDelivery: "Estimated Delivery",
      trackOrder: "Track Order",
    },
    search: {
      placeholder: "Search products...",
      suggestions: "Suggestions",
      products: "Products",
      noResults: "No results found",
      viewAll: "View all {count} results",
      searchResults: "Search Results",
      searchFor: 'Search results for "{query}"',
      popularSearches: "Popular Searches",
      recentSearches: "Recent Searches",
      clearHistory: "Clear History",
      advancedSearch: "Advanced Search",
      searchFilters: "Search Filters",
    },
    filters: {
      priceRange: "Price Range",
      categories: "Categories",
      brands: "Brands",
      rating: "Rating",
      availability: "Availability",
      applyFilters: "Apply Filters",
      clearFilters: "Clear Filters",
      showMore: "Show More",
      showLess: "Show Less",
      sortBy: "Sort By",
      sortOptions: {
        relevance: "Relevance",
        priceLowToHigh: "Price: Low to High",
        priceHighToLow: "Price: High to Low",
        newest: "Newest",
        bestSelling: "Best Selling",
        customerRating: "Customer Rating",
      },
    },
    admin: {
      dashboard: "Dashboard",
      products: "Products",
      orders: "Orders",
      customers: "Customers",
      analytics: "Analytics",
      settings: "Settings",
      totalRevenue: "Total Revenue",
      totalOrders: "Total Orders",
      totalProducts: "Total Products",
      totalCustomers: "Total Customers",
      recentOrders: "Recent Orders",
      topProducts: "Top Products",
      lowStock: "Low Stock",
      outOfStock: "Out of Stock",
      addProduct: "Add Product",
      editProduct: "Edit Product",
      deleteProduct: "Delete Product",
      productName: "Product Name",
      productDescription: "Product Description",
      productPrice: "Product Price",
      productCategory: "Product Category",
      productImages: "Product Images",
      productInventory: "Product Inventory",
      productSEO: "Product SEO",
      productStatus: "Product Status",
      productTags: "Product Tags",
      saveProduct: "Save Product",
      productSaved: "Product saved successfully",
      productDeleted: "Product deleted successfully",
      orderDetails: "Order Details",
      orderStatus: "Order Status",
      orderItems: "Order Items",
      customerDetails: "Customer Details",
      shippingDetails: "Shipping Details",
      paymentDetails: "Payment Details",
      updateOrder: "Update Order",
      orderUpdated: "Order updated successfully",
      multiChannel: "Multi-Channel",
      integrations: "Integrations",
      marketing: "Marketing",
      discounts: "Discounts",
      coupons: "Coupons",
      emailTemplates: "Email Templates",
      abandonedCarts: "Abandoned Carts",
      reports: "Reports",
      salesReport: "Sales Report",
      productReport: "Product Report",
      customerReport: "Customer Report",
      inventoryReport: "Inventory Report",
    },
    footer: {
      quickLinks: "Quick Links",
      customerService: "Customer Service",
      legal: "Legal",
      followUs: "Follow Us",
      newsletter: "Newsletter",
      newsletterDescription: "Subscribe to get updates on new products and offers",
      subscribe: "Subscribe",
      emailPlaceholder: "Enter your email",
      subscribed: "Successfully subscribed!",
      links: {
        allProducts: "All Products",
        categories: "Categories",
        specialDeals: "Special Deals",
        newArrivals: "New Arrivals",
        contactUs: "Contact Us",
        shippingInfo: "Shipping Info",
        returns: "Returns",
        faq: "FAQ",
        privacyPolicy: "Privacy Policy",
        termsOfService: "Terms of Service",
        cookiePolicy: "Cookie Policy",
      },
    },
    errors: {
      pageNotFound: "Page Not Found",
      serverError: "Server Error",
      networkError: "Network Error",
      unauthorized: "Unauthorized",
      forbidden: "Forbidden",
      badRequest: "Bad Request",
      tryAgain: "Try Again",
      goHome: "Go Home",
      contactSupport: "Contact Support",
    },
    success: {
      orderPlaced: "Order placed successfully!",
      accountCreated: "Account created successfully!",
      profileUpdated: "Profile updated successfully!",
      passwordChanged: "Password changed successfully!",
      emailSent: "Email sent successfully!",
      subscribed: "Successfully subscribed to newsletter!",
    },
  },
  ar: {
    common: {
      hello: "مرحباً",
      loading: "جاري التحميل...",
      error: "خطأ",
      success: "نجح",
      cancel: "إلغاء",
      save: "حفظ",
      delete: "حذف",
      edit: "تعديل",
      add: "إضافة",
      remove: "إزالة",
      search: "بحث",
      filter: "تصفية",
      sort: "ترتيب",
      price: "السعر",
      quantity: "الكمية",
      total: "المجموع",
      subtotal: "المجموع الفرعي",
      tax: "الضريبة",
      shipping: "الشحن",
      discount: "الخصم",
      toggleTheme: "تبديل المظهر",
      changeLanguage: "تغيير اللغة",
      yes: "نعم",
      no: "لا",
      confirm: "تأكيد",
      back: "رجوع",
      next: "التالي",
      previous: "السابق",
      close: "إغلاق",
      open: "فتح",
      view: "عرض",
      download: "تحميل",
      upload: "رفع",
      copy: "نسخ",
      share: "مشاركة",
      print: "طباعة",
      export: "تصدير",
      import: "استيراد",
    },
    navigation: {
      home: "الرئيسية",
      products: "المنتجات",
      categories: "الفئات",
      about: "حولنا",
      contact: "اتصل بنا",
      cart: "السلة",
      account: "الحساب",
      myAccount: "حسابي",
      orderHistory: "تاريخ الطلبات",
      wishlist: "قائمة الأمنيات",
      menu: "القائمة",
      dashboard: "لوحة التحكم",
      settings: "الإعدادات",
      logout: "تسجيل الخروج",
      login: "تسجيل الدخول",
      register: "إنشاء حساب",
    },
    store: {
      name: "متجر إلكتروني",
      tagline: "وجهتك الموثوقة للتسوق عبر الإنترنت",
      description: "منتجات عالية الجودة مع خدمة استثنائية",
      copyright: "جميع الحقوق محفوظة",
      poweredBy: "مدعوم بواسطة منصة التجارة الإلكترونية",
    },
    auth: {
      login: "تسجيل الدخول",
      register: "إنشاء حساب",
      logout: "تسجيل الخروج",
      email: "البريد الإلكتروني",
      password: "كلمة المرور",
      confirmPassword: "تأكيد كلمة المرور",
      firstName: "الاسم الأول",
      lastName: "اسم العائلة",
      fullName: "الاسم الكامل",
      forgotPassword: "نسيت كلمة المرور؟",
      rememberMe: "تذكرني",
      createAccount: "إنشاء حساب",
      alreadyHaveAccount: "لديك حساب بالفعل؟",
      dontHaveAccount: "ليس لديك حساب؟",
      signIn: "تسجيل الدخول",
      signUp: "إنشاء حساب",
      invalidCredentials: "بريد إلكتروني أو كلمة مرور غير صحيحة",
      accountCreated: "تم إنشاء الحساب بنجاح",
      loginSuccess: "تم تسجيل الدخول بنجاح",
      logoutSuccess: "تم تسجيل الخروج بنجاح",
      emailRequired: "البريد الإلكتروني مطلوب",
      passwordRequired: "كلمة المرور مطلوبة",
      passwordMinLength: "كلمة المرور يجب أن تكون 8 أحرف على الأقل",
      emailInvalid: "يرجى إدخال بريد إلكتروني صحيح",
      passwordsNotMatch: "كلمات المرور غير متطابقة",
    },
    product: {
      addToCart: "أضف إلى السلة",
      buyNow: "اشتري الآن",
      outOfStock: "نفد من المخزون",
      inStock: "متوفر",
      lowStock: "متبقي {count} فقط!",
      sku: "رمز المنتج",
      category: "الفئة",
      tags: "العلامات",
      description: "الوصف",
      specifications: "المواصفات",
      reviews: "التقييمات",
      relatedProducts: "منتجات ذات صلة",
      comparePrice: "قارن بسعر",
      sale: "تخفيض",
      new: "جديد",
      featured: "مميز",
      recommendedForYou: "موصى لك",
      productDetails: "تفاصيل المنتج",
      productImages: "صور المنتج",
      selectVariant: "اختر {option}",
      variants: "المتغيرات",
      options: "الخيارات",
      availability: "التوفر",
      brand: "العلامة التجارية",
      weight: "الوزن",
      dimensions: "الأبعاد",
      digitalProduct: "منتج رقمي",
      instantDownload: "تحميل فوري",
    },
    cart: {
      title: "سلة التسوق",
      empty: "سلة التسوق فارغة",
      emptyDescription: "أضف بعض المنتجات للبدء",
      continueShopping: "متابعة التسوق",
      proceedToCheckout: "المتابعة للدفع",
      updateCart: "تحديث السلة",
      removeItem: "إزالة العنصر",
      clearCart: "إفراغ السلة",
      itemAdded: "تم إضافة العنصر إلى السلة",
      itemRemoved: "تم إزالة العنصر من السلة",
      itemUpdated: "تم تحديث السلة",
      cartTotal: "إجمالي السلة",
      estimatedTax: "الضريبة المقدرة",
      estimatedShipping: "الشحن المقدر",
      couponCode: "رمز الكوبون",
      applyCoupon: "تطبيق الكوبون",
      removeCoupon: "إزالة الكوبون",
      couponApplied: "تم تطبيق الكوبون بنجاح",
      invalidCoupon: "رمز كوبون غير صحيح",
    },
    checkout: {
      title: "الدفع",
      contactInformation: "معلومات الاتصال",
      shippingAddress: "عنوان الشحن",
      billingAddress: "عنوان الفواتير",
      paymentMethod: "طريقة الدفع",
      orderSummary: "ملخص الطلب",
      placeOrder: "تأكيد الطلب",
      processing: "جاري المعالجة...",
      orderPlaced: "تم تأكيد الطلب بنجاح!",
      orderConfirmation: "ستتلقى رسالة تأكيد قريباً.",
      shippingMethod: "طريقة الشحن",
      billingAddressSame: "عنوان الفواتير هو نفس عنوان الشحن",
      saveAddress: "احفظ هذا العنوان للطلبات المستقبلية",
      guestCheckout: "متابعة كضيف",
      createAccountCheckout: "إنشاء حساب لدفع أسرع",
      orderNumber: "رقم الطلب",
      estimatedDelivery: "التسليم المقدر",
      trackOrder: "تتبع الطلب",
    },
    search: {
      placeholder: "البحث عن المنتجات...",
      suggestions: "اقتراحات",
      products: "المنتجات",
      noResults: "لم يتم العثور على نتائج",
      viewAll: "عرض جميع النتائج ({count})",
      searchResults: "نتائج البحث",
      searchFor: 'نتائج البحث عن "{query}"',
      popularSearches: "عمليات البحث الشائعة",
      recentSearches: "عمليات البحث الأخيرة",
      clearHistory: "مسح التاريخ",
      advancedSearch: "البحث المتقدم",
      searchFilters: "مرشحات البحث",
    },
    filters: {
      priceRange: "نطاق السعر",
      categories: "الفئات",
      brands: "العلامات التجارية",
      rating: "التقييم",
      availability: "التوفر",
      applyFilters: "تطبيق المرشحات",
      clearFilters: "مسح المرشحات",
      showMore: "عرض المزيد",
      showLess: "عرض أقل",
      sortBy: "ترتيب حسب",
      sortOptions: {
        relevance: "الصلة",
        priceLowToHigh: "السعر: من الأقل إلى الأعلى",
        priceHighToLow: "السعر: من الأعلى إلى الأقل",
        newest: "الأحدث",
        bestSelling: "الأكثر مبيعاً",
        customerRating: "تقييم العملاء",
      },
    },
    admin: {
      dashboard: "لوحة التحكم",
      products: "المنتجات",
      orders: "الطلبات",
      customers: "العملاء",
      analytics: "التحليلات",
      settings: "الإعدادات",
      totalRevenue: "إجمالي الإيرادات",
      totalOrders: "إجمالي الطلبات",
      totalProducts: "إجمالي المنتجات",
      totalCustomers: "إجمالي العملاء",
      recentOrders: "الطلبات الأخيرة",
      topProducts: "أفضل المنتجات",
      lowStock: "مخزون منخفض",
      outOfStock: "نفد من المخزون",
      addProduct: "إضافة منتج",
      editProduct: "تعديل المنتج",
      deleteProduct: "حذف المنتج",
      productName: "اسم المنتج",
      productDescription: "وصف المنتج",
      productPrice: "سعر المنتج",
      productCategory: "فئة المنتج",
      productImages: "صور المنتج",
      productInventory: "مخزون المنتج",
      productSEO: "تحسين محركات البحث للمنتج",
      productStatus: "حالة المنتج",
      productTags: "علامات المنتج",
      saveProduct: "حفظ المنتج",
      productSaved: "تم حفظ المنتج بنجاح",
      productDeleted: "تم حذف المنتج بنجاح",
      orderDetails: "تفاصيل الطلب",
      orderStatus: "حالة الطلب",
      orderItems: "عناصر الطلب",
      customerDetails: "تفاصيل العميل",
      shippingDetails: "تفاصيل الشحن",
      paymentDetails: "تفاصيل الدفع",
      updateOrder: "تحديث الطلب",
      orderUpdated: "تم تحديث الطلب بنجاح",
      multiChannel: "متعدد القنوات",
      integrations: "التكاملات",
      marketing: "التسويق",
      discounts: "الخصومات",
      coupons: "الكوبونات",
      emailTemplates: "قوالب البريد الإلكتروني",
      abandonedCarts: "السلال المهجورة",
      reports: "التقارير",
      salesReport: "تقرير المبيعات",
      productReport: "تقرير المنتجات",
      customerReport: "تقرير العملاء",
      inventoryReport: "تقرير المخزون",
    },
    footer: {
      quickLinks: "روابط سريعة",
      customerService: "خدمة العملاء",
      legal: "قانوني",
      followUs: "تابعنا",
      newsletter: "النشرة الإخبارية",
      newsletterDescription: "اشترك للحصول على تحديثات حول المنتجات والعروض الجديدة",
      subscribe: "اشتراك",
      emailPlaceholder: "أدخل بريدك الإلكتروني",
      subscribed: "تم الاشتراك بنجاح!",
      links: {
        allProducts: "جميع المنتجات",
        categories: "الفئات",
        specialDeals: "العروض الخاصة",
        newArrivals: "الوافدات الجديدة",
        contactUs: "اتصل بنا",
        shippingInfo: "معلومات الشحن",
        returns: "المرتجعات",
        faq: "الأسئلة الشائعة",
        privacyPolicy: "سياسة الخصوصية",
        termsOfService: "شروط الخدمة",
        cookiePolicy: "سياسة ملفات تعريف الارتباط",
      },
    },
    errors: {
      pageNotFound: "الصفحة غير موجودة",
      serverError: "خطأ في الخادم",
      networkError: "خطأ في الشبكة",
      unauthorized: "غير مصرح",
      forbidden: "محظور",
      badRequest: "طلب خاطئ",
      tryAgain: "حاول مرة أخرى",
      goHome: "اذهب للرئيسية",
      contactSupport: "اتصل بالدعم",
    },
    success: {
      orderPlaced: "تم تأكيد الطلب بنجاح!",
      accountCreated: "تم إنشاء الحساب بنجاح!",
      profileUpdated: "تم تحديث الملف الشخصي بنجاح!",
      passwordChanged: "تم تغيير كلمة المرور بنجاح!",
      emailSent: "تم إرسال البريد الإلكتروني بنجاح!",
      subscribed: "تم الاشتراك في النشرة الإخبارية بنجاح!",
    },
  },
}

export async function getMessages(locale: string) {
  try {
    return messages[locale as keyof typeof messages] || messages[defaultLocale]
  } catch (error) {
    console.warn(`Failed to load messages for locale: ${locale}`)
    return messages[defaultLocale]
  }
}

export function getLocale(): string {
  try {
    const cookieStore = cookies()
    const localeCookie = cookieStore.get("locale")

    if (localeCookie && locales.includes(localeCookie.value)) {
      return localeCookie.value
    }
  } catch (error) {
    // Handle cases where cookies() is not available (client-side)
    console.warn("Could not access cookies for locale detection")
  }

  return defaultLocale
}

export { defaultLocale, locales }
